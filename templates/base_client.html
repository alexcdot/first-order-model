<!doctype html>

<!--
 *  Copyright (c) 2020 The WebRTC project authors + me, Alexander Cui. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
-->
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1">
        <!--
        <meta name="description" content="WebRTC code samples">
        <meta itemprop="description" content="Client-side WebRTC code samples">
        <meta itemprop="image" content="../../../images/webrtc-icon-192x192.png">
        <meta itemprop="name" content="WebRTC code samples">
        -->
        <meta name="mobile-web-app-capable" content="yes">
        <meta id="theme-color" name="theme-color" content="#ffffff">

        <base target="_blank">

        <title>Clone Generator</title>

        <!--
        <link rel="icon" sizes="192x192" href="../../../images/webrtc-icon-192x192.png">
        -->
        <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">

    </head>

    <body>
        <h1>Create video clones!</h1>
        <p>Modern technology has allowed us to animate images of people's faces with a video of someone else! So you can get you, or someone else... to kind of look like they are saying anything!
            <a href="https://github.com/AliaksandrSiarohin/first-order-model">(Credits for the model and gif here)</a>
            Now, you have to power to create these yourself - but be responsbile with its use please!
        </p>
        <img src="https://raw.githubusercontent.com/AliaksandrSiarohin/first-order-model/master/sup-mat/vox-teaser.gif">
        <p>By default, on my website, I use a source image is of Donald Trump and the driving video is of Donald Trump (in a different time and place). If you hit the "Upload" button without attaching any files, you can see a cloned video example.
        </p>
        <p>
        When you upload images, make sure the head in the images and driving video roughly matches the size of the green oval below. It will take 1.5 seconds to generate every 1 second of video, and the default video is 8 seconds long. Here are some cropped sample images and videos you can use:
        <a href="https://drive.google.com/drive/folders/1kZ1gCnpfU0BnpdU47pLM_TQ6RypDDqgw" target="_blank">link</a>
        <br>
        </p>
        <h1>Record your driving video here!</h1>
        <div id="container">
            
            <div style="position: relative; left: 0; top: 0;">
                <video id="gum" autoplay muted playsinline></video>
                <div class="circle"/>
            </div>
            <video id="recorded" autoplay playsinline></video>

            <div>
              <p>Note: Recording is not supported on mobile or Microsoft Edge. <strong>When recording, make sure your face is well lit and fills the green oval! It's preferable if you have uncluttered, uniform background as well.</strong> Once you are done recording, hit download to get your driving video, and upload it below.
              </p>
              <br>
              <button id="record">Start Recording</button>
              <button id="play" disabled>Play</button>
              <button id="download" disabled>Download</button>
            </div>
        </div>
        
        <form method=post enctype=multipart/form-data>
            <label for="source_image">Source image (face to copy, optional):</label>
            <input type=file name=source_image id=source_image>
            <br>
            <label for="driving_video">Driving video (motion to copy, optional):</label>
            <input type=file name=driving_video id=driving_video>
            <br>
            <input type=submit value="Create Clone!">
        </form>
        
        <br>
        <br>
        <br>
        
        <h1>On that note, Mr. Trump, your press conference is starting!</h1>
        <p>
        Please listen to these real-life reporter's questions, and give your most genuine responses. If your facial emotions don't match up to what we would expect from Mr. Trump, then people will start getting suspicious. If you are convincing, you'll definitely hear about it! Remember to only submit links of videos generated on this website! 
        </p>
        <video width="420" height="420" controls>
            <source src="https://clone.verafy.me/uploads/fake_result_1590113709_Fear_Happy_Angry.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        
        <form method=post enctype=multipart/form-data>
            <label for="reporter_name">Reporter Name (do not change):</label>
            <input type=text name=reporter_name id=reporter_name value="john roberts">
            <br>
            <label for="response_link">Link to your video response:</label>
            <input type=text name=response_link id=response_link>
            <br>
            <input type=submit value="Crush it!">
        </form>
        
        <br>
        
        <p>
        {% if g.user and g.user.get('john roberts') %}
            {% if g.user['john roberts'] %}
              <span>Delivered a convincing delivery? Absolutely! Amazing Mr. Trump, thanks for again for standing up to illegal aliens, within our galaxy and without!</span>
            {% else %}
              <span>Delivered a convincing delivery? Not at all, and the American people are getting nervous.</span>
            {% endif %}
        {% else %}
          <span>Delivered a convincing delivery? Let's find out!</span>
        {% endif %}
        </p>
        
        <br>
        <h1>Next question, from CNN all the way in the back!</h1>
        
        <video width="420" height="420" controls playsinline>
            <source src="https://clone.verafy.me/uploads/fake_result_1590114628_Fear_Sad_Angry.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        
        <form method=post enctype=multipart/form-data>
            <label for="reporter_name">Reporter Name (do not change):</label>
            <input type=text name=reporter_name id=reporter_name value="jim acoasta">
            <br>
            <label for="response_link">Link to your video response:</label>
            <input type=text name=response_link id=response_link>
            <br>
            <input type=submit value="Throw it down!">
        </form>
        
        <br>
        
        <p>
        {% if g.user and g.user.get('jim acoasta') %}
            {% if g.user['jim acoasta'] %}
              <span>Delivered a convincing delivery? Yes, you really showed the lamestream media their place!</span>
            {% else %}
              <span>Delivered a convincing delivery? Not at all, and the American people are getting anxious.</span>
            {% endif %}
        {% else %}
          <span>Delivered a convincing delivery? Let's find out!</span>
        {% endif %}
        
        </p>
        
        <script src="{{ url_for('static', filename='js/main.js') }}"></script>

    </body>
</html>